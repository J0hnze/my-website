{{ define "main" }}
<div class="container">
    <header class="section-header">
        <h1>{{ .Title }}</h1>
        {{ if .Description }}
        <p class="description">{{ .Description }}</p>
        {{ end }}
    </header>

    {{ $pages := .Pages.GroupByDate "2006" }}
    {{ range $pages }}
    <div class="year-separator">
        <h2>{{ .Key }}</h2>
        <hr class="section-divider">
    </div>
    <div class="post-grid">
        {{ range .Pages }}
        <article class="post-card">
            <div class="post-content">
                <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                <div class="post-meta">
                    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
                    {{ if .Params.tags }}
                    <div class="tags">
                        {{ range .Params.tags }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                </div>
                <p class="subtitle">{{ with .Params.subtitle }}{{ . }}{{ else }}No subtitle provided.{{ end }}</p>
                {{ if eq .Section "ctf" }}
                <div class="ctf-info">
                    <span class="difficulty">{{ .Params.difficulty }}</span>
                    <span class="points">{{ .Params.points }} points</span>
                </div>
                {{ end }}
            </div>
        </article>
        {{ end }}
    </div>
    {{ end }}
</div>
{{ end }} 